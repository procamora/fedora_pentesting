FROM fedora:32
LABEL Maintainer "Pablo Rocamora <pablojoserocamora@gmail.com>"
LABEL Description="This text illustrates"
LABEL Version="1.0"
LABEL License=GPLv2


RUN dnf -y upgrade && \
	dnf -y install https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm \
	https://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm && \
	dnf -y group install "Development Tools" && \
	dnf -y group install "C Development Tools and Libraries" && \
	dnf -y install vim sudo tmux atop procps openvpn man-db man-pages-es dnf-utils glibc-langpack-en
	# dnf clean all


# Set the locale
#RUN sed -i -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen && \
#    locale-gen
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US:en
ENV LC_ALL en_US.UTF-8
#localedef -i en_US -f UTF-8 en_US.UTF-8

WORKDIR /root

COPY ./fedora_pentesting.sh /root
COPY ./install.sh /root


RUN bash ./install.sh

RUN dnf clean all 


EXPOSE 22

ENTRYPOINT [ "bash" ]
CMD [ "-i" ]


#CMD [ "bash", "-i" ]