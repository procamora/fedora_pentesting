#!/usr/bin/env make

.PHONY: help


all: build run


build: ## Build a dockerimage
	@podman build --tag fedora:pentest -f ./Dockerfile .


run:
	@mkdir -p ./data
	# @podman run -ti --rm --hostname=pentest -p 2222:22 --name pentest -v $(pwd)/data:/data fedora:pentest
	@podman run -ti --rm --hostname=pentest -p 2222:22 --name pentest fedora:pentest


help: ## Print this help.
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":.*?## "}; {printf "\033[36m%-20s\033[0m %s\n", $$1, $$2}'


shell: ## shell inside podman container
	@podman run --rm -it -v  $(shell pwd):/opt/project my-php /bin/bash